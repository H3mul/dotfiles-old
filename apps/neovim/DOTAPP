# should be the same as dir name
appname="neovim"
# Organization and grouping
tags=(cli)
# yay packages required for this app
pkg_depends=(neovim fzf ripgrep)

NVIM_HOME="$HOME/.config/nvim"

pre () {
   # Create the paths so stow doesnt symlink them
   [ -d "$NVIM_HOME" ] || mkdir -p $HOME/.config/nvim
}

# Commands to run after stow install but before dconf
stow_post () {
    [ -d "$NVIM_HOME/autoload/plug.vim" ] && sub_msg "vim Plug already installed, skipping..." && return
    sub_msg "Installing vim plug..."
    curl -fLo $NVIM_HOME/autoload/plug.vim --create-dirs \
        https://raw.githubusercontent.com/junegunn/vim-plug/master/plug.vim
    sub_msg "Installing vim plugins..."
    nvim +PlugInstall +qall
    unset NVIM_HOME
}
